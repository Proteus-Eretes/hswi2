import type { App, VNode } from 'vue';
import { Hookable } from 'hookable';
import type { RuntimeConfig } from '@nuxt/kit';
import { LegacyContext } from './compat/legacy-app';
declare type NuxtMeta = {
    htmlAttrs?: string;
    headAttrs?: string;
    bodyAttrs?: string;
    headTags?: string;
    bodyPrepend?: string;
    bodyScripts?: string;
};
declare type HookResult = Promise<void> | void;
export interface RuntimeNuxtHooks {
    'app:created': (app: App<Element>) => HookResult;
    'app:beforeMount': (app: App<Element>) => HookResult;
    'app:mounted': (app: App<Element>) => HookResult;
    'app:rendered': () => HookResult;
    'page:start': (Component?: VNode) => HookResult;
    'page:finish': (Component?: VNode) => HookResult;
    'meta:register': (metaRenderers: Array<(nuxt: NuxtApp) => NuxtMeta | Promise<NuxtMeta>>) => HookResult;
}
export interface NuxtApp {
    vueApp: App<Element>;
    globalName: string;
    hooks: Hookable<RuntimeNuxtHooks>;
    hook: NuxtApp['hooks']['hook'];
    callHook: NuxtApp['hooks']['callHook'];
    [key: string]: any;
    _asyncDataPromises?: Record<string, Promise<any>>;
    _legacyContext?: LegacyContext;
    ssrContext?: Record<string, any> & {
        renderMeta?: () => Promise<NuxtMeta> | NuxtMeta;
    };
    payload: {
        serverRendered?: true;
        data?: Record<string, any>;
        state?: Record<string, any>;
        rendered?: Function;
        [key: string]: any;
    };
    provide: (name: string, value: any) => void;
}
export declare const NuxtPluginIndicator = "__nuxt_plugin";
export interface Plugin {
    (nuxt: NuxtApp): Promise<void> | void;
    [NuxtPluginIndicator]?: true;
}
export interface LegacyPlugin {
    (context: LegacyContext, provide: NuxtApp['provide']): Promise<void> | void;
}
export interface CreateOptions {
    vueApp: NuxtApp['vueApp'];
    ssrContext?: NuxtApp['ssrContext'];
    globalName?: NuxtApp['globalName'];
}
export declare function createNuxtApp(options: CreateOptions): NuxtApp;
export declare function applyPlugin(nuxtApp: NuxtApp, plugin: Plugin): Promise<void>;
export declare function applyPlugins(nuxtApp: NuxtApp, plugins: Plugin[]): Promise<void>;
export declare function normalizePlugins(_plugins: Array<Plugin | LegacyPlugin>): Plugin[];
export declare function defineNuxtPlugin(plugin: Plugin): Plugin;
export declare function isLegacyPlugin(plugin: unknown): plugin is LegacyPlugin;
export declare const setNuxtAppInstance: (nuxt: NuxtApp | null) => void;
/**
 * Ensures that the setup function passed in has access to the Nuxt instance via `useNuxt`.
 *
 * @param nuxt A Nuxt instance
 * @param setup The function to call
 */
export declare function callWithNuxt(nuxt: NuxtApp, setup: () => any): Promise<void>;
/**
 * Returns the current Nuxt instance.
 */
export declare function useNuxtApp(): NuxtApp;
export declare function useRuntimeConfig(): RuntimeConfig;
export {};
